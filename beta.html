<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0">
	<meta name="author" content="Zane Wesley">
	<meta name="description" content="The place where you can find all of Zane's apps and projects.">
	<!-- General -->
	<link rel="manifest" href="manifest.json">
	<meta name="theme-color" content="#F4F4FB">
	<meta name="application-name" content="Zane's Apps">
  	<link rel="shortcut icon" href="images/icon.png">
	<link rel="icon" type="image/png" sizes="500x500" href="images/icon.png">
	<!-- Apple -->
	<meta name="apple-mobile-web-app-title" content="Zane's Apps">
	<meta name="apple-mobile-web-app-status-bar-style" content="#F4F4FB">
    <meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="apple-touch-icon" sizes="500x500" href="images/icon.png">
	<link rel="mask-icon" href="images/icon.png" color="#F4F4FB">
	<!-- External -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.topology.min.js"></script>
	<!-- Analytics -->
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-YEEGMG5QT7"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	  gtag('config', 'G-YEEGMG5QT7');
	</script>
	<title>Zane's Apps | Beta</title>

	<style>
		* {
			box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
		}
		html, body {
			background-color: #2d3e50;
			font-family: 'Roboto', sans-serif;
		}
		#bg {
			width: 100vw;
		    height: 100vh;
		    background: transparent;
		    position: fixed;
		    user-select: none;
			-webkit-user-select: none;
			-moz-user-select: none;
			z-index: 0;
			opacity: 0;
			animation: fadeIn 2s ease-in;
			animation-fill-mode: forwards;
			animation-delay: 1.5s;
		}
		#splash {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 1;
			overflow: hidden;
		}
		#splash svg {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 20vw;
			height: 20vw;
			animation: settleIn 2s cubic-bezier(0,1.11,1,.99);
			animation-fill-mode: forwards;
		}
		#nav {
			position: fixed;
			top: 25%;
			left: 50%;
			width: 80%;
			height: 50%;
			transform: translate(-50%, -25%);
			display: flex;
			flex-direction: row;
			justify-content: space-around;
			align-items: flex-end;
			z-index: 2;
			animation: slideIn 2s cubic-bezier(.87,-.41,.19,1.44);
			animation-fill-mode: forwards;
		}
		#nav .page-btn {
			font-weight: 700;
			font-size: 2em;
			cursor: pointer;
			color: #fff;
			border: 3px solid transparent;
			border-radius: 5px;
			transition: all 0.3s;
		}
		#nav .page-btn:hover {
			border-bottom: 3px solid #fff;
		}

		html.standalone-open, body.standalone-open {
			overflow: hidden;
		}
		#standalone-frame {
			position: fixed;
			overflow-x: hidden;
			overflow-y: auto;
			left: 0;
			top: 50px;
			width: 100%;
			height: calc(100% - 50px);
			max-width: 100%;
			max-height: calc(100% - 50px);
			border: none;
			z-index: 3;
		}
		.standalone-ui {
			display: none;
		}
		#standalone-nav {
			position: fixed;
			z-index: 3;
			left: 0;
			top: 0;
			width: 100%;
			height: 50px;
			color: #fff;
			font-size: 1.5em;
			background-color: #2d3e50;
			padding: 12px;
			/*display: flex;*/
			flex-direction: row;
			justify-content: space-between;
			align-items: center;
			overflow: hidden;
			transition: all 0.3s;
		}
		#standalone-home {
			cursor: pointer;
		}
		#standalone-nav .fas:hover {
			color: #ccc;
		}
		#standalone-bg {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: #fff;
			z-index: 2;
		}
		#standalone-nav.fadeIn {
			display: flex;
		}
		.fadeIn {
			display: block;
			animation: fadeIn 1s ease-in;
			animation-fill-mode: forwards;
		}
		@keyframes fadeIn{from {opacity: 0;} to {opacity: 1;}}
		@keyframes settleIn{0% {opacity: 0; transform: translate(-50%, -50%) scale(2); fill: #208DD7;} 50% {fill: #208DD7;} 100% {top: 25%; opacity: 1; transform: translate(-50%, -25%) scale(1); fill: #CACFD2;}}
		@keyframes slideIn{from { left: 100%; opacity: 0;} to {left: 50%; opacity: 1;}}

		@media (max-width: 480px) {
			#splash svg {
				top: 10%;
				width: 50vw;
				height: 50vw;
			}
			#nav {
				top: 50%;
				flex-direction: column;
			}
			@keyframes settleIn{0% {opacity: 0; transform: translate(-50%, -50%) scale(2); fill: #208DD7;} 50% {fill: #208DD7;} 100% {top: 10%; opacity: 1; transform: translate(-50%, -10%) scale(1); fill: #CACFD2;}}
		}
	</style>
</head>
<body>
	<!--<header>
		<h1>Zane's Apps</h1>
	</header>-->

	<div id="bg"></div>

	<div id="splash">
		<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300.000000 300.000000" preserveAspectRatio="xMidYMid meet">
			<g transform="translate(0.000000,300.000000) scale(0.100000,-0.100000)" stroke="none">
				<path d="M1283 2982 l-1083 -2 0 -263 0 -262 560 3 c308 1 560 1 560 -2 0 -2
				-93 -154 -206 -337 -697 -1127 -1094 -1770 -1094 -1774 0 -3 511 -5 1135 -5
				l1135 0 0 265 0 265 -615 0 -616 0 20 28 c16 22 581 932 839 1352 80 130 268
				432 374 603 44 70 79 129 77 130 -2 1 -491 1 -1086 -1z m1040 -36 c-38 -67
				-168 -272 -175 -274 -4 -2 -8 -8 -8 -12 0 -8 -110 -191 -197 -330 -58 -90
				-181 -290 -246 -398 -33 -53 -62 -99 -67 -102 -4 -3 -10 -15 -14 -27 -4 -13
				-12 -23 -17 -23 -5 0 -9 -4 -9 -10 0 -13 -62 -114 -72 -118 -4 -2 -8 -7 -8
				-12 0 -10 -65 -118 -85 -140 -8 -9 -15 -20 -15 -24 0 -4 -13 -27 -30 -51 -16
				-24 -30 -47 -30 -51 0 -4 -10 -21 -23 -38 -13 -17 -43 -65 -67 -106 -24 -41
				-67 -111 -95 -155 -29 -44 -67 -108 -86 -143 -29 -53 -32 -64 -19 -72 9 -6
				241 -10 607 -10 l592 0 3 -23 c2 -12 2 -120 0 -239 l-3 -218 -782 -1 c-430 -1
				-852 -3 -937 -4 -85 -2 -228 0 -317 3 l-162 5 17 30 c9 16 22 37 27 46 25 39
				81 128 92 146 31 51 90 146 129 207 24 37 44 70 44 73 0 16 54 84 63 78 6 -3
				7 -1 3 5 -6 10 23 72 49 102 7 8 21 31 32 50 10 19 43 74 73 123 30 48 60 95
				65 105 6 9 19 31 31 47 11 17 24 37 28 45 3 8 19 34 34 57 15 24 60 98 101
				165 41 68 77 125 80 128 3 3 12 16 20 30 8 14 49 80 90 148 42 67 89 144 105
				170 15 26 32 49 37 50 5 2 9 8 9 13 0 5 24 49 54 97 84 137 97 164 84 179 -8
				10 -116 13 -553 13 l-543 0 -6 28 c-10 45 -3 211 9 204 5 -3 5 0 -1 9 -15 18
				-12 218 3 227 20 12 2093 10 2086 -2z"/>
			</g>
		</svg>
	</div>

	<div id="nav">
		<div class="page-btn">Games</div>
		<div class="page-btn">Resources</div>
		<div class="page-btn">Miscellaneous</div>
		<div class="page-btn">More</div>
	</div>
	

	<!-- PWA page elems-->
	<iframe id="standalone-frame" class="standalone-ui"></iframe>
	<div id="standalone-nav" class="standalone-ui">
		<span id="standalone-home" class="fas fa-home-alt"></span>
		<span style="font-size: 16px;">Zane's Apps</span>
		<span id="standalone-share" class="fas fa-share"></span>
	</div>
	<div id="standalone-bg" class="standalone-ui"></div>

	<script>
		VANTA.TOPOLOGY({
			  el: "#bg",
			  mouseControls: true,
			  touchControls: true,
			  gyroControls: false,
			  minHeight: 200.00,
			  minWidth: 200.00,
			  scale: 1.00,
			  scaleMobile: 1.00,
			  color: 0xCACFD2,
			  backgroundColor: 0x2d3e50
		});

		/**/if (window.matchMedia('(display-mode: standalone)').matches) {/**/
			//event listener for if the page is a PWA
			document.querySelectorAll('a').forEach(function(elem) {
				elem.addEventListener('click', function(e) {
					e.preventDefault();
					if(!this.classList.contains('disabled') && !this.classList.contains('newframe')) {
						var _this = this;
						//Analytics
						/*dataLayer.push({
							'event': 'app_link_click',
							'app_name': _this.id

						});*/
						gtag('event', 'app_link_click', {
						  'app_name': _this.id
						});
						document.getElementById('standalone-frame').src=this.getAttribute('href');
						//Layer iframe ontop
						document.getElementById('standalone-frame').classList.add('fadeIn');
						document.getElementById('standalone-nav').classList.add('fadeIn');
						window.scrollTo(0,0);
						document.body.classList.add('standalone-open');
						document.getElementsByTagName('html')[0].classList.add('standalone-open');
						document.getElementById('standalone-bg').style.display="block";
					} else if(this.classList.contains('newframe')) {
						var _this = this;
						//Analytics
						/*dataLayer.push({
							'event': 'app_link_click',
							'app_name': _this.id

						});*/
						gtag('event', 'app_link_click', {
						  'app_name': _this.id
						});
						open(this.getAttribute('href'));
					}
				});
			});
		/**/} else {
			//event listener for if it is not a PWA
			document.querySelectorAll('a').forEach(function(elem) {
				elem.addEventListener('click', function(e) {
					e.preventDefault();
					if(!this.classList.contains('disabled')) {
						var _this = this;
						//Analytics
						/*dataLayer.push({
							'event': 'app_link_click',
							'app_name': _this.id

						});*/
						gtag('event', 'app_link_click', {
						  'app_name': _this.id
						});
						document.body.scrollTop = 0; // For Safari
						document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
						setTimeout(function() {
							window.location=_this.getAttribute('href');
						}, 100);
					}
				});
			});
		}/**/

		document.getElementById('standalone-home').addEventListener('click', function(e) {
			e.preventDefault();
			document.getElementById('standalone-frame').src=null;
			//Layer iframe ontop
			document.getElementById('standalone-frame').classList.remove('fadeIn');
			document.getElementById('standalone-nav').classList.remove('fadeIn');
			window.scrollTo(0,0);
			document.body.classList.remove('standalone-open');
			document.getElementsByTagName('html')[0].classList.remove('standalone-open');
			document.getElementById('standalone-bg').style.display="none";
		});

		document.getElementById('standalone-share').addEventListener('click', function(e) {
			e.preventDefault();
			/*if (navigator.share) {
			  navigator.share({
			    title: document.title,
			    text: "Check out Zane\'s apps!",
			    url: window.location.href
			  })
			  .then(() => console.log('Successful share'))
			  .catch(error => console.log('Error sharing:', error));
			}*/
			var a = document.createElement('a');
			var osLink = getMobileOperatingSystem() == 'iOS' ? 'sms:&body=Check out Zane\'s Apps! https://zanewesley.github.io' : 'sms:?body=Check out Zane\'s Apps! https://zanewesley.github.io';
			a.href = osLink;
			document.body.appendChild(a);
			a.click();
		});

		function getMobileOperatingSystem() {
		    var userAgent = navigator.userAgent || navigator.vendor || window.opera;

		    // Windows Phone must come first because its UA also contains "Android"
		    if (/windows phone/i.test(userAgent)) {
		        return "Windows Phone";
		    }

		    if (/android/i.test(userAgent)) {
		        return "Android";
		    }

		    // iOS detection from: http://stackoverflow.com/a/9039885/177710
		    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
		        return "iOS";
		    }

		    return "unknown";
		}
	</script>
</body>
</html>
